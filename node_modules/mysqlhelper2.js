var cfg = require('config')
var mysql = require('mysql');

var config = {
	connectionLimit : 10,
	host : cfg.DB.dbhost,
	user : cfg.DB.dbusername,
	database : cfg.DB.dbname,
	password : cfg.DB.dbpwd,
};

var pool = mysql.createPool(config);

pool.on('connection', function(connection) {
	console.log('Get a connection from the pool with thread id ['
			+ connection.threadId + ']');

});

pool.on('enqueue', function(event) {
	console.log('Waiting for available connection slot from the pool');

});

exports.pool = pool;
